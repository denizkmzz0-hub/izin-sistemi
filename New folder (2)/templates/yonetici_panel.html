
<!doctype html><html lang="tr"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Yönetici Paneli</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"></head><body class="bg-light"><div class="container mt-4"><div class="d-flex justify-content-between align-items-center"><h4>Yönetici Paneli</h4><div><a href="{{ url_for('add_personnel') }}" class="btn btn-primary">➕ Yeni Personel Ekle</a><a href="{{ url_for('cikis') }}" class="btn btn-secondary">Çıkış</a></div></div><div class="mt-3"><table class="table table-hover"><thead><tr><th>ID</th><th>Ad</th><th>İzin Türü</th><th>Süre</th><th>Başlangıç</th><th>Bitiş</th><th>Durum</th><th>İşlem</th></tr></thead><tbody>{% for i in izinler %}<tr><td>{{ i['id'] }}</td><td>{{ i['ad'] }}</td><td>{{ i['izin_turu'] }}</td><td>{{ i['sure'] }}</td><td>{{ i['baslangic'] }}</td><td>{{ i['bitis'] }}</td><td>{{ i['durum'] }}</td><td>{% if i['durum']=='Bekliyor' %}<a href="{{ url_for('izin_onayla', izin_id=i['id']) }}" class="btn btn-success btn-sm">Onayla</a> <a href="{{ url_for('izin_reddet', izin_id=i['id']) }}" class="btn btn-danger btn-sm">Reddet</a>{% endif %}</td></tr>{% endfor %}</tbody></table></div><div class="mt-4"><h5>📊 Personel İzin Dağılımı (Pasta Grafiği)</h5><canvas id="izinPie" width="400" height="400"></canvas></div></div><script src="https://cdn.jsdelivr.net/npm/chart.js"></script><script>const ctx=document.getElementById('izinPie');const data={labels: {{ isimler|tojson }},datasets:[{data: {{ izin_sureleri|tojson }},backgroundColor:['rgba(255,99,132,0.7)','rgba(54,162,235,0.7)','rgba(255,206,86,0.7)','rgba(75,192,192,0.7)','rgba(153,102,255,0.7)','rgba(255,159,64,0.7)']}]};new Chart(ctx,{type:'pie',data:data,options:{}});</script></body></html>
